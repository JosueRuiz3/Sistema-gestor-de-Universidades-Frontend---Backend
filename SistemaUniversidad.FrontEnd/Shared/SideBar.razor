
<div id="sidebar" class="sidebar sidebar-fixed expandable sidebar-light" data-backdrop="true" data-dismiss="true" data-swipe="true">
    <div class="sidebar-inner">

        <div class="ace-scroll flex-grow-1 mt-1px" data-ace-scroll="{}">

            <nav class="pt-3" aria-label="Main">
                <ul class="nav flex-column has-active-border">


                    <li class="nav-item @GetActive("", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/">
                            <i class="nav-icon fa fa-home"></i>
                            <span class="nav-text fadeable">Inicio</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("Sedes", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/Sedes">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Sedes</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("CicloLectivo", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/CicloLectivo">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Ciclos Lectivos</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("Carreras", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/Carreras">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Carreras</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("Cursos", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/Cursos">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Cursos</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("Aulas", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/Aulas">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Aulas</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("Matricula", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/Matricula">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Matriculas</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("Profesores", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/Profesores">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Profesores</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("Estudiantes", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/Estudiantes">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Estudiantes</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("CursosEnMatriculas", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/CursosEnMatriculas">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Cursos En Matriculas</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("CursosConProfesore", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/CursosConProfesore">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Cursos Con Profesores</span>
                        </NavLink>
                    </li>

                    <li class="nav-item @GetActive("CursosEnAula", NavLinkMatch.All)">
                        <NavLink class="nav-link" href="/CursosEnAula">
                            <i class="nav-icon fa fa-tv"></i>
                            <span class="nav-text fadeable">Cursos En Aulas</span>
                        </NavLink>
                    </li>

                </ul>
            </nav>

        </div>

    </div>
</div>

@code {

    [Inject]
    NavigationManager NavigationManager { get; set; }

    protected override void OnInitialized() => NavigationManager.LocationChanged += (s, e) => StateHasChanged();

    bool IsActive(string href, NavLinkMatch navLinkMatch = NavLinkMatch.Prefix)
    {
        var relativePath = NavigationManager.ToBaseRelativePath(NavigationManager.Uri).ToLower();
        return navLinkMatch == NavLinkMatch.All ? relativePath == href.ToLower() : relativePath.StartsWith(href.ToLower());
    }

    string GetActive(string href, NavLinkMatch navLinkMatch = NavLinkMatch.Prefix) => IsActive(href, navLinkMatch) ? "active" : "na";
}